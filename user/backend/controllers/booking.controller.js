const Booking = require('../models/booking.model');

// This function handles the creation of a new booking.
exports.createBooking = async (req, res) => {
    try {
        const {
            name,
            email,
            phone,
            alternativePhone,
            whatsappNumber,
            onSiteContactPerson,
            contactPhone,
            relationshipToHost,
            eventType,
            eventTypeOther,
            eventDate,
            eventStartTime,
            eventEndTime,
            barServiceDuration,
            totalGuests,
            adultGuests,
            minorGuests,
            peakBarUsageStartTime,
            peakBarUsageEndTime,
            eventTheme,
            preferredAtmosphere,
            fullAddress,
            city,
            state,
            pinCode,
            landmark,
            venueType,
            venueTypeOther,
            parkingAvailable,
            parkingType,
            elevatorAccess,
            floorNumber,
            specialEntryInstructions,
            preferredBarLocation,
            preferredBarLocationOther,
            barTableAvailable,
            arrangeTemporarySetup,
            powerOutletAvailable,
            waterSourceAvailable,
            distanceToWaterPoint,
            sinkAvailable,
            wineGlassesAvailable,
            wineGlassesQuantity,
            beerMugsAvailable,
            beerMugsQuantity,
            whiskeyGlassesAvailable,
            whiskeyGlassesQuantity,
            shotGlassesAvailable,
            champagneFlutesAvailable,
            champagneFlutesQuantity,
            cocktailGlassesAvailable,
            cocktailGlassesQuantity,
            highballGlassesAvailable,
            highballGlassesQuantity,
            margaritaGlassesAvailable,
            margaritaGlassesQuantity,
            disposableOptionsAvailable,
            cocktailShakerAvailable,
            barSpoonsAvailable,
            muddlerAvailable,
            jiggerAvailable,
            strainerAvailable,
            bottleOpenerAvailable,
            corkscrewAvailable,
            cuttingBoardAvailable,
            sharpKnifeAvailable,
            refrigeratorAccess,
            freezerAccess,
            iceBucketsAvailable,
            iceBucketsQuantity,
            coolersAvailable,
            coolersQuantity,
            servingTraysAvailable,
            servingTraysQuantity,
            largeTraysAvailable,
            smallCocktailTraysAvailable,
            antiSlipTraysAvailable,
            cocktailNapkinsAvailable,
            coastersAvailable,
            iceTongsAvailable,
            servingSpoonsAvailable,
            freshFruitsAvailable,
            lemonsAvailable,
            lemonsQuantity,
            limesAvailable,
            orangesAvailable,
            orangesQuantity,
            otherFruitsAvailable,
            otherFruitsSpecify,
            cherriesAvailable,
            mintLeavesAvailable,
            cucumberAvailable,
            olivesAvailable,
            softDrinksAvailable,
            cokePepsiAvailable,
            sprite7upAvailable,
            sprite7upQuantity,
            otherSodasAvailable,
            otherSodasSpecify,
            tonicWaterAvailable,
            tonicWaterQuantity,
            sodaWaterAvailable,
            sodaWaterQuantity,
            gingerAleAvailable,
            gingerAleQuantity,
            freshJuicesAvailable,
            freshJuicesSpecify,
            regularWaterAvailable,
            regularWaterQuantity,
            sparklingWaterAvailable,
            sparklingWaterQuantity,
            specificRequirementsAvailable,
            specificRequirementsSpecify,
            signatureCocktailDesired,
            preferredCocktails,
            customCocktailRequest,
            sugarFreeOptionsRequired,
            lowAlcoholMocktailOptions,
            religiousCulturalRestrictions,
            allergyConsiderations,
            preferredAttire,
            themedAttireSpecify,
            languagePreferences,
            regionalLanguageSpecify,
        } = req.body;

        // A new booking is created with the data from the request body.
        const savedBooking = await Booking.create({
            name,
            email,
            phone,
            alternativePhone,
            whatsappNumber,
            onSiteContactPerson,
            contactPhone,
            relationshipToHost,
            eventType,
            eventTypeOther,
            eventDate,
            eventStartTime,
            eventEndTime,
            barServiceDuration,
            totalGuests,
            adultGuests,
            minorGuests,
            peakBarUsageStartTime,
            peakBarUsageEndTime,
            eventTheme,
            preferredAtmosphere,
            fullAddress,
            city,
            state,
            pinCode,
            landmark,
            venueType,
            venueTypeOther,
            parkingAvailable,
            parkingType,
            elevatorAccess,
            floorNumber,
            specialEntryInstructions,
            preferredBarLocation,
            preferredBarLocationOther,
            barTableAvailable,
            arrangeTemporarySetup,
            powerOutletAvailable,
            waterSourceAvailable,
            distanceToWaterPoint,
            sinkAvailable,
            wineGlassesAvailable,
            wineGlassesQuantity,
            beerMugsAvailable,
            beerMugsQuantity,
            whiskeyGlassesAvailable,
            whiskeyGlassesQuantity,
            shotGlassesAvailable,
            champagneFlutesAvailable,
            champagneFlutesQuantity,
            cocktailGlassesAvailable,
            cocktailGlassesQuantity,
            highballGlassesAvailable,
            highballGlassesQuantity,
            margaritaGlassesAvailable,
            margaritaGlassesQuantity,
            disposableOptionsAvailable,
            cocktailShakerAvailable,
            barSpoonsAvailable,
            muddlerAvailable,
            jiggerAvailable,
            strainerAvailable,
            bottleOpenerAvailable,
            corkscrewAvailable,
            cuttingBoardAvailable,
            sharpKnifeAvailable,
            refrigeratorAccess,
            freezerAccess,
            iceBucketsAvailable,
            iceBucketsQuantity,
            coolersAvailable,
            coolersQuantity,
            servingTraysAvailable,
            servingTraysQuantity,
            largeTraysAvailable,
            smallCocktailTraysAvailable,
            antiSlipTraysAvailable,
            cocktailNapkinsAvailable,
            coastersAvailable,
            iceTongsAvailable,
            servingSpoonsAvailable,
            freshFruitsAvailable,
            lemonsAvailable,
            lemonsQuantity,
            limesAvailable,
            orangesAvailable,
            orangesQuantity,
            otherFruitsAvailable,
            otherFruitsSpecify,
            cherriesAvailable,
            mintLeavesAvailable,
            cucumberAvailable,
            olivesAvailable,
            softDrinksAvailable,
            cokePepsiAvailable,
            sprite7upAvailable,
            sprite7upQuantity,
            otherSodasAvailable,
            otherSodasSpecify,
            tonicWaterAvailable,
            tonicWaterQuantity,
            sodaWaterAvailable,
            sodaWaterQuantity,
            gingerAleAvailable,
            gingerAleQuantity,
            freshJuicesAvailable,
            freshJuicesSpecify,
            regularWaterAvailable,
            regularWaterQuantity,
            sparklingWaterAvailable,
            sparklingWaterQuantity,
            specificRequirementsAvailable,
            specificRequirementsSpecify,
            signatureCocktailDesired,
            preferredCocktails,
            customCocktailRequest,
            sugarFreeOptionsRequired,
            lowAlcoholMocktailOptions,
            religiousCulturalRestrictions,
            allergyConsiderations,
            preferredAttire,
            themedAttireSpecify,
            languagePreferences,
            regionalLanguageSpecify,
        });
        // The saved booking is sent back as a response.
        res.status(201).json(savedBooking);
    } catch (error) {
        // If there is an error, a 500 status code is sent back with an error message.
        res.status(500).json({ message: error.message });
    }
};

// This function handles the retrieval of all bookings.
exports.getAllBookings = async (req, res) => {
    try {
        // All bookings are retrieved from the database.
        const bookings = await Booking.findAll();
        // The bookings are sent back as a response.
        res.status(200).json(bookings);
    } catch (error) {
        // If there is an error, a 500 status code is sent back with an error message.
        res.status(500).json({ message: error.message });
    }
};

// This function handles the retrieval of a single booking by its ID.
exports.getBookingById = async (req, res) => {
    try {
        // The booking is retrieved from the database by its ID.
        const booking = await Booking.findByPk(req.params.id);
        // If the booking is not found, a 404 status code is sent back with an error message.
        if (!booking) {
            return res.status(404).json({ message: 'Booking not found' });
        }
        // The booking is sent back as a response.
        res.status(200).json(booking);
    } catch (error) {
        // If there is an error, a 500 status code is sent back with an error message.
        res.status(500).json({ message: error.message });
    }
};
